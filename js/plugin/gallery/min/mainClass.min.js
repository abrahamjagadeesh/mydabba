define(["jquery","checkCssSupport"],function(e,s){function n(e,n){var o={multipleSlides:1,steps:1,transition:"",autoHeight:!0,maxHeight:900,bgAsSource:!1,showThumbs:!1,showDots:!1,isCycle:!0},t=this;t.wWindow=$(window),t.dDocument=$(document),t.screen=screen,t.$el=$(e),t.el=e,t.$el.data("gallery",t),t.options=$.extend({},o,n),t.isFullScreen=!1,t.isTranslate3d=s.checkCssProperty("transform","translate3d(0,0,0)"),t.isTranslate2d=s.checkCssProperty("transform","translate(0,0)"),t.isTouch="ontouchstart"in window||window.navigator.msMaxTouchPoints,t.isDragging=!1,t.currentTranslatePosition=0,t.noOfSlides=0,t.previousScreen=t.$el.find(".btn-L-left"),t.nextScreen=t.$el.find(".btn-L-right"),t.subPlaceholder=t.$el.find(".level-two"),t.largePlaceholder=t.$el.find(".level-one"),t.wrapper=t.subPlaceholder.find(".bucket"),t.openFullScreen=t.$el.find(".btn-fs-open"),t.closeFullScreen=t.$el.find(".btn-fs-close"),t.touchArray={touchstart:{x:-1,y:-1},touchmove:{x:-1,y:-1},touchend:!1,direction:"undetermined"},t.mouseArray={mousedown:-1,mousemove:-1},t.init=function(){t.current=0,t.old=-1e4,t.oldest=-1e4,t.isResponsive=t.fnIsResponsive(),t.noOfSlides=t.wrapper.length,t.options.multipleSlides>t.noOfSlides&&(t.options.multipleSlides=t.noOfSlides),1===t.options.multipleSlides&&(t.options.steps=1),t.options.multipleSlides<t.options.steps&&(t.options.steps=t.options.multipleSlides),t.options.isCycle&&t.options.multipleSlides<t.noOfSlides?t.createHTMLForCyclic():t.setDimensions(),t.setClassName(),t.setCurrentClass(),!t.isFullScreen&&t.options.bgAsSource&&(t.setImages(),t.$el.addClass("bgAsSource")),$(t.el).find("img").imagesLoaded().always(function(){t.setDimensions()}),t.customEvents()},t.init()}return n});